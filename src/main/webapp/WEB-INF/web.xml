<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0"
         xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
	http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
    <display-name>web练习项目</display-name>

    <welcome-file-list>
        <welcome-file>/jumpLogin.jsp</welcome-file>
    </welcome-file-list>

    <!--druid连接池配置 start-->
    <filter>
        <filter-name>DruidWebStatFilter</filter-name>
        <filter-class>com.alibaba.druid.support.http.WebStatFilter</filter-class>
        <init-param>
            <param-name>exclusions</param-name>
            <param-value>/static/*,*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*</param-value>
        </init-param>
    </filter>
    <filter-mapping>
        <filter-name>DruidWebStatFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <!-- druid监控 -->
    <servlet>
        <servlet-name>DruidStatView</servlet-name>
        <servlet-class>com.alibaba.druid.support.http.StatViewServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>DruidStatView</servlet-name>
        <url-pattern>/druid/*</url-pattern>
    </servlet-mapping>
    <!--druid连接池配置 end-->

    <!-- struts2 start -->
    <filter>
        <filter-name>struts2</filter-name>
        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
        <!--
             <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>

        -->
        <!-- 配置struts2路径 -->
             <init-param>
                <param-name>config</param-name>
                <param-value>
                    struts-default.xml,struts-plugin.xml,struts.xml
                </param-value>
             </init-param>
    </filter>
    <!--  可以配置多个mapping-->
    <filter-mapping>
        <filter-name>struts2</filter-name>
        <url-pattern>*.action</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>struts2</filter-name>
        <url-pattern>*.jsp</url-pattern>
    </filter-mapping>

    <!-- struts2 end -->

    <!-- log4j的配置相关 start-->
    <context-param>
        <param-name>log4jConfigLocation</param-name>
        <param-value>/WEB-INF/classes/log4j.properties</param-value>
    </context-param>
    <context-param>
        <param-name>log4jRefreshInterval</param-name>
        <param-value>60000</param-value>
    </context-param>
    <listener>
        <listener-class>
            org.springframework.web.util.Log4jConfigListener
        </listener-class>
    </listener>
    <!-- log4j的配置相关 end-->

    <!-- spring start -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <!--<param-value>WEB-INF\classes\applicationContext.xml</param-value>-->
        <param-value>classpath:applicationContext.xml</param-value>
    </context-param>
    <listener>
        <listener-class> org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>
    <!-- spring end -->

    <!--servlet begin -->

    <!--pushLet-->
    <!--
    <servlet>
        <servlet-name>pushlet</servlet-name>
        <servlet-class>nl.justobjects.pushlet.servlet.Pushlet</servlet-class>
        <load-on-startup>3</load-on-startup>
    </servlet>
    -->
    <!-- Define the Servlet Mappings. -->
    <!-- The pushlet -->
    <!--
    <servlet-mapping>
        <servlet-name>pushlet</servlet-name>
        <url-pattern>/pushlet.srv</url-pattern>
    </servlet-mapping>
     -->

    <!-- 验证码start (暂时没用到)-->
    <servlet>
        <servlet-name>yzm</servlet-name>
        <servlet-class>util.YzmServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>yzm</servlet-name>
        <url-pattern>/servlet/yzm</url-pattern>
    </servlet-mapping>
    <!-- 验证码end -->

    <!-- 文件上传begin -->

    <servlet>
        <servlet-name>upload</servlet-name>
        <servlet-class>util.upload.UploadFileServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>upload</servlet-name>
        <url-pattern>/servlet/uploadFile</url-pattern>
    </servlet-mapping>

    <!-- 文件上传end -->

    <!--jsp学习 page对象获取初始化信息-->
    <servlet>
        <servlet-name>studyJsp</servlet-name>
        <jsp-file>/jsp/study/jsp/zyfwfx.jsp</jsp-file>
        <init-param>
            <param-name>key</param-name>
            <param-value>val</param-value>
        </init-param>
        <init-param>
            <param-name>name</param-name>
            <param-value>joke</param-value>
        </init-param>
        <init-param>
            <param-name>user</param-name>
            <param-value>lx</param-value>
        </init-param>
        <init-param>
            <param-name>passWd</param-name>
            <param-value>123</param-value>
        </init-param>
    </servlet>
    <servlet-mapping>
        <servlet-name>studyJsp</servlet-name>
        <url-pattern>/studyJsp</url-pattern>
    </servlet-mapping>

    <!--servlet end -->

    <!-- el 表达式可以获取值 -->
    <context-param>
        <param-name>loginName</param-name>
        <param-value>abcd</param-value>
    </context-param>
</web-app>
